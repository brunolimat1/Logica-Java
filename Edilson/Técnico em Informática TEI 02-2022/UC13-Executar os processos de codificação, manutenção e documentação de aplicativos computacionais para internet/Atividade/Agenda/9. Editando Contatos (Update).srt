1
00:00:00,180 --> 00:00:03,750
Fala pessoal nessa aula a gente vai editar o nosso contato aqui.

2
00:00:03,750 --> 00:00:05,890
Como é que a gente vai fazer isso.

3
00:00:06,030 --> 00:00:09,840
A gente precisa resolver um problema que a gente tem que deixa eu te mostrar.

4
00:00:10,200 --> 00:00:11,730
Vou cadastrar aqui.

5
00:00:11,740 --> 00:00:18,300
João não se preocupe com a quantidade de contatos que a gente está cadastra na base de dados.

6
00:00:18,360 --> 00:00:20,850
A gente vai fazer depois um delete pra gente.

7
00:00:20,910 --> 00:00:23,040
A gente mesmo vai deletar aqui no programa.

8
00:00:23,430 --> 00:00:26,090
Então quanto mais contato melhor no caso.

9
00:00:26,280 --> 00:00:33,160
Então vou colocar João Miranda Luiz Miranda colocar um telefone qualquer seu enviar isso aqui.

10
00:00:33,780 --> 00:00:40,770
Eu criei o João e voltei para a mesma página só que se eu enviar de novo aqui eu vou criar novamente

11
00:00:40,770 --> 00:00:41,990
esse contato.

12
00:00:42,070 --> 00:00:47,310
Cada vez que eu envia ele volta o contato registrado com sucesso ele está criando um novo contato então

13
00:00:47,310 --> 00:00:51,680
a gente não quer que nessa página aqui que a gente tiver editando um contato.

14
00:00:51,720 --> 00:00:55,080
Ele poste de os dados para cadastrar um novo contato.

15
00:00:55,080 --> 00:00:56,570
Como é que a gente vai resolver isso.

16
00:00:57,030 --> 00:01:05,430
A gente vai vir aqui no nosso Vhils e daí aqui no contato a gente vai resolver fazer um fazer uma condicional

17
00:01:05,430 --> 00:01:06,680
nesse formulário aqui.

18
00:01:07,080 --> 00:01:14,920
Então a gente vai fazer assim por exemplo se a gente tiver o áudio do usuário que é o contato que tenho

19
00:01:14,920 --> 00:01:20,040
e então é contato ponto disse ele existe.

20
00:01:20,070 --> 00:01:27,240
A gente vai mudar esse formulário aqui ao contrário disso a gente continua criando um novo o novo usuário

21
00:01:27,240 --> 00:01:37,130
que vou fazer é fiel sei que no caso o iPhone é aqui e agora é só e agora vamos fechar Walk aqui para

22
00:01:37,130 --> 00:01:37,950
finalizar.

23
00:01:38,120 --> 00:01:44,650
Beleza então se o meu contato existe você meu contato não existe eu vou criá lo.

24
00:01:44,720 --> 00:01:53,350
No caso aqui beleza feita se o meu contato existe se tem um contato aí eu vou postar para Edite ao invés

25
00:01:53,570 --> 00:02:00,200
de registrar e aí Barra o áudio do contato que eu estou editando não vai ser contato.

26
00:02:00,230 --> 00:02:02,870
Vai ser igual pra exibir contato.

27
00:02:02,870 --> 00:02:03,420
Ponto.

28
00:02:03,420 --> 00:02:11,740
Aí de agora essa foto ainda não existia mas agora pelo menos a gente não está criando mais um novo contato.

29
00:02:11,750 --> 00:02:12,690
Seu clicar em Salvar.

30
00:02:12,700 --> 00:02:15,380
Ele vai processar para edite uma nota que não existe.

31
00:02:15,420 --> 00:02:16,440
A gente vai criar agora.

32
00:02:17,010 --> 00:02:21,980
Então vamos lá nas nossas rotas para outros e aí vamos duplicar a última volta.

33
00:02:21,990 --> 00:02:25,170
Quem mudar Index pra Edit aqui vai ser.

34
00:02:25,180 --> 00:02:28,450
Poxa no caso que tinha ao invés de quiet.

35
00:02:28,750 --> 00:02:36,850
Poxa beleza que aqui eu vou mudar a função lá do controller pra ele só e daí vamos contra o Control.

36
00:02:36,900 --> 00:02:43,740
Vamos criar essa função do contato Controller então esportes ponto Edit que é o nome que a gente deu

37
00:02:43,740 --> 00:02:44,100
lá.

38
00:02:44,100 --> 00:02:49,800
Ela vai ser assíncrona que ela vai trabalhar na base de dados por criar uma faixa que recebe.

39
00:02:50,150 --> 00:02:50,630
E daí.

40
00:02:50,670 --> 00:02:54,770
Aqui a gente pode fazer essa mesma checagem que você não foi enviado parâmetro.

41
00:02:55,620 --> 00:02:58,900
A gente já mata aqui o script.

42
00:02:58,900 --> 00:03:03,490
E aí outra coisa que a gente precisa fazer é ir no modo eu agora.

43
00:03:03,750 --> 00:03:12,890
Então vamos no modo que Models contato e daí a gente vai criar um contato ponto Prototype.

44
00:03:12,930 --> 00:03:16,820
A gente está usando a função consultor aqui lembra Edite.

45
00:03:16,830 --> 00:03:26,730
E daí o Edite vai ser uma função assíncrona também é infantil e a gente quer receber um dia.

46
00:03:26,890 --> 00:03:32,820
Aí se esse site for enviado não for uma string é off.

47
00:03:33,090 --> 00:03:36,890
Aí é diferente de onde eu vou matar.

48
00:03:36,930 --> 00:03:43,500
Aqui o script se for uma xingue eu posso checar na base de dados sem problema algum.

49
00:03:43,830 --> 00:03:49,530
Então só que eu estou enviando isso aqui a gente tem que prestar atenção e estou enviando novamente

50
00:03:49,530 --> 00:03:55,270
os dados do formulário aqui todos está vendo estou mandando de novo nome e sobrenome.

51
00:03:55,380 --> 00:03:57,600
Então tem que validar tudo de novo.

52
00:03:57,600 --> 00:04:00,000
Esses dados então a gente já tem isso pronto.

53
00:04:00,020 --> 00:04:05,000
Então por isso que isso daqui não é um método estático ele é um método que está no Prototype porque

54
00:04:05,010 --> 00:04:09,720
a gente vai precisar do vali daqui e aquelas coisas que a gente utilizou anteriormente.

55
00:04:10,800 --> 00:04:20,640
Então eu vou falar desse ponto valida e se não tiver nenhum erro e com esse ponto esse ponto leva um

56
00:04:20,870 --> 00:04:24,340
maior sítio veneno caso se os erros forem.

57
00:04:24,430 --> 00:04:27,990
Se não for vazio eu vou dar um britânico.

58
00:04:28,260 --> 00:04:34,800
Se passar daqui quer dizer que eu posso sim criar meu contato editar né no caso não vou falar contato

59
00:04:35,160 --> 00:04:37,030
móvel né no caso ponto.

60
00:04:37,090 --> 00:04:44,720
E daí esse método aqui vai ser fácil vai a Idi Amin PDT que então encontra o contato por aí que é Edir

61
00:04:44,780 --> 00:04:46,250
que a gente vai receber aqui.

62
00:04:46,560 --> 00:04:51,870
Aí atualize os seus dados então vou mandar quais parâmetros eles aqui vou mandar o áudio que eu estou

63
00:04:51,870 --> 00:04:55,170
recebendo aqui eu vou mandar ainda lá na função vou te mostrar.

64
00:04:55,700 --> 00:04:57,080
Eu vou mandar um deles.

65
00:04:57,180 --> 00:04:58,310
Ponto Bari.

66
00:04:58,800 --> 00:05:06,000
O corpo do formulário que a gente já validou aqui nesse local e daí o final que eu vou mandar também

67
00:05:06,000 --> 00:05:09,330
um parâmetro um objeto com a chave mil.

68
00:05:09,740 --> 00:05:11,850
E aí vou chamar isso de tu pra falar.

69
00:05:11,910 --> 00:05:18,740
Olha quando você atualizar esse contato você me retorna os dados atualizados e não os dados antigos.

70
00:05:18,810 --> 00:05:20,990
E aí aqui eu preciso falar ao Haiti.

71
00:05:21,150 --> 00:05:23,510
E daí eu já vou jogar isso aqui na minha vida.

72
00:05:23,510 --> 00:05:30,080
Ponto contato que isso daqui a formular no contato para eu te mostrar aqui.

73
00:05:30,300 --> 00:05:31,120
Esse contato.

74
00:05:31,470 --> 00:05:38,670
Ele vai sendo um mero caso mas se ele for atualizado aqui com sucesso a gente vai jogar os dados do

75
00:05:38,670 --> 00:05:40,380
novo contato atualizado aqui.

76
00:05:40,380 --> 00:05:47,310
Caso a gente precisa recuperar beleza feito isso aqui a gente pode agora voltar no controle e usar isso

77
00:05:47,340 --> 00:05:51,710
daqui então com este contato com a Amil.

78
00:05:51,740 --> 00:05:58,050
Contato é a mesma coisa como se eu fosse criar o contato eu vou mandar requisição Rei ponto baile porque

79
00:05:58,320 --> 00:06:00,790
lembra essa requisição vai cair aqui.

80
00:06:01,710 --> 00:06:06,960
Esse meu contato vai cair com o Bari que então diz ponto baile vai cair aqui.

81
00:06:07,020 --> 00:06:10,770
Beleza então hoje já voltei os dados o formulário nesse parâmetro.

82
00:06:10,770 --> 00:06:14,740
Assim que criar uma instância desse dessa função aqui resultou.

83
00:06:15,250 --> 00:06:18,550
Beleza eu tendo essa instância eu já tenho usado e isso tem tudo aqui.

84
00:06:18,570 --> 00:06:22,200
Na verdade eu não vou registrar porque eu não estou chamando método registra.

85
00:06:22,200 --> 00:06:24,640
Eu vou validar os dados aqui novamente.

86
00:06:24,810 --> 00:06:32,250
A gente vai passar no clima de novo porque é válida chamei ele aqui e daí aqui no edite a gente vai

87
00:06:34,650 --> 00:06:38,160
validar esses dados só que falta agora a gente chamar esse idiota aqui.

88
00:06:38,170 --> 00:06:47,390
Então a gente vai ter que chamar esse idiota sem contato ao Haiti no caso ao Haiti contato ponto Edit

89
00:06:47,630 --> 00:06:50,470
e daí a gente tem que mandar agora o Haiti.

90
00:06:50,600 --> 00:06:51,950
Que ponto paramos.

91
00:06:52,010 --> 00:06:52,820
Ponto.

92
00:06:53,480 --> 00:06:58,430
Esse aí dia que tá vim essa função que eu estou chamando você sabe essa função aqui né.

93
00:06:58,430 --> 00:07:03,880
Então a gente tem que mandar o dia aqui pra gente saber qual contata a gente vai atualizar no caso aqui

94
00:07:03,880 --> 00:07:04,370
né.

95
00:07:04,580 --> 00:07:13,530
Beleza feita aqui agora a gente pode e a gente pode checar por por erros no caso aqui.

96
00:07:13,540 --> 00:07:19,330
Agora é quase a mesma coisa de você criar um novo contato porque você está editando um contato então

97
00:07:19,330 --> 00:07:25,750
a gente pode roubar isso aqui do registro essa parte inteira aqui do registro a gente pode global.

98
00:07:25,930 --> 00:07:31,020
Se tiver erro a gente vai realmente mostrar os erros e voltar para a página anterior.

99
00:07:31,030 --> 00:07:37,450
Se tiver sucesso a gente só vai mandar mensagem de sucesso aqui então voltando aqui a gente vai fazer

100
00:07:37,450 --> 00:07:45,690
isso daqui até o direto que é o mesmo no caso da um contato algo editado com sucesso.

101
00:07:45,700 --> 00:07:51,040
E daí aqui se tiver erro vai vai ser apresentado os erros até lá vamos vamos testar isso aqui pra gente

102
00:07:51,040 --> 00:07:51,280
ver.

103
00:07:51,940 --> 00:07:53,290
Antes disso vou me envolver.

104
00:07:53,280 --> 00:08:00,110
Já esse aqui no bloco vai porque senão a gente esquece depois não vai se der algum erro a gente vai

105
00:08:00,110 --> 00:08:08,680
capturar esse Rocket e aí vai logar e renderizar uma página 404 pro cliente console e login.

106
00:08:08,730 --> 00:08:18,960
E esse ponto rendeu 404 Beleza agora vamos mover o nosso trecho de código pra dentro do bolo bloco Chay

107
00:08:20,270 --> 00:08:24,010
beleza feita aqui e agora a gente pode levar isso aqui pra um teste.

108
00:08:24,010 --> 00:08:29,330
Vamos atualizar a página aqui vamos reparar esse dia que eu vou ter que dar um contra você.

109
00:08:29,330 --> 00:08:35,240
Deixa eu ver se eu consigo dar um contra o FB não consigo mas a gente consegue ver ele aqui.

110
00:08:35,240 --> 00:08:38,520
Vamo Vamo tentar enviar e percebe se que ele não vai mudar.

111
00:08:38,540 --> 00:08:43,460
Não mudou aqui a beleza perfeita e aqui eu posso colocar João.

112
00:08:43,520 --> 00:08:46,160
Vou colocar um nome bem diferente.

113
00:08:46,160 --> 00:08:51,510
Vou escrever literalmente diferente pra gente vê que ele foi editado.

114
00:08:51,590 --> 00:08:57,980
Eu tô com a base de dados aqui aberta já que a gente pode checar aqui e aí vamos conferir aqui embaixo.

115
00:08:58,040 --> 00:08:59,790
Você tem o diferencial aqui.

116
00:08:59,840 --> 00:09:06,350
Aqui está o diferente no caso beleza agora a gente vai me mudar é diferente pelo diferente dois ele

117
00:09:06,350 --> 00:09:09,340
tem que só modificar um diferente dois.

118
00:09:10,430 --> 00:09:11,210
Vou salvar.

119
00:09:11,780 --> 00:09:15,310
E aí vou me atualizar aqui não Refresh aqui só para a gente ver.

120
00:09:15,340 --> 00:09:21,550
E aí lá embaixo tem só diferente dois não pode ter dois diferente beleza que está diferente.

121
00:09:21,660 --> 00:09:24,290
Tranquilo então tá atualizando os nossos dados.

122
00:09:24,290 --> 00:09:27,980
E aí vão testar a validação o seu mando um campo vazio aqui pra nome.

123
00:09:28,160 --> 00:09:32,700
Ele vai validar o nome Campo e o nome é obrigatório e não vai atualizar os dados.

124
00:09:32,720 --> 00:09:39,080
Beleza é isso que a gente quer é essa gente mandar um email inválido por exemplo assim não tem pelo

125
00:09:39,080 --> 00:09:45,800
menos uma letra aí mandar um e-mail inválido ele tá validando os campos antes de atualizar.

126
00:09:45,800 --> 00:09:51,940
Então isso é muito importante a gente não pode esquecer que o contato já registrado não acabou validação

127
00:09:51,980 --> 00:09:54,160
se ele fosse se ele fosse seria editado.

128
00:09:54,380 --> 00:10:00,560
Ele precisa ser validado completamente novamente precisa ser todo validado de novo.

129
00:10:00,560 --> 00:10:06,230
Beleza então agora a gente já fez essa página disse então a gente já pode criar contatos vão fazer o

130
00:10:06,230 --> 00:10:09,300
caminho completa Vou sair do sistema.

131
00:10:09,470 --> 00:10:13,130
Vou criar uma conta qualquer aqui no site sai.

132
00:10:13,630 --> 00:10:15,710
Vou criar uma conta aqui.

133
00:10:15,880 --> 00:10:20,100
Emilio rouba o ponto onde eu sei que tenho o usuário lá.

134
00:10:20,150 --> 00:10:22,000
1 2 6 4 5 6.

135
00:10:22,070 --> 00:10:23,600
Vamos criar essa conta.

136
00:10:23,660 --> 00:10:31,200
Beleza seu usuário foi criado vamos logar email arroba é meio ponto com 1 2 3 4 5 6.

137
00:10:31,700 --> 00:10:33,530
Entramos no sistema lá e meio.

138
00:10:33,530 --> 00:10:41,840
Beleza vou cadastrar um contato por cada acção o contato e o teste vou chamar disso aquele Milk Tech.

139
00:10:41,990 --> 00:10:51,070
Vou colocar só o telefone que vou enviar vão vê lo mandei ainda não vou me enviar aqui.

140
00:10:54,180 --> 00:11:02,030
Não sei se não tá indo o nosso contato com a minha internet que está falhando para conectar na base

141
00:11:02,030 --> 00:11:03,090
de dados deixou o olhar.

142
00:11:03,130 --> 00:11:09,680
Se tem algum erro aqui a gente vai ter que o que também já falo disso aqui.

143
00:11:09,690 --> 00:11:15,450
Mas vamos ver porque que não está no nosso foco aqui é alguma coisa estranha que por algum motivo nosso

144
00:11:15,450 --> 00:11:19,610
formular não está indo deixou atualizar aqui a página voltar.

145
00:11:19,650 --> 00:11:25,920
Não sei se a internet está porque pode ser minha internet também que está falando por causa do da conexão

146
00:11:25,920 --> 00:11:27,020
com a base de dados lá.

147
00:11:27,270 --> 00:11:38,330
Vou tentar novamente me o teste e vou por um telefone aqui e vou enviar realmente ele não está indo.

148
00:11:38,320 --> 00:11:44,690
Não vamos voltar aqui vamos dar um confere aqui que a gente fez aqui e por isso que é bom a gente testar

149
00:11:45,380 --> 00:11:53,570
aqui a gente está mandando forma pra contato deixou de dar uma olhada no forma que aqui foi que foi

150
00:11:53,570 --> 00:11:56,650
renderizados aqui lá para diminuir aqui.

151
00:11:57,840 --> 00:12:02,080
Vamos dar uma olhada aqui no nosso fórum nossa fonte aqui.

152
00:12:05,630 --> 00:12:13,120
Aqui legal nosso formulário não tá envolvendo aqui por algum motivo nosso formulário não tá envolvendo

153
00:12:13,120 --> 00:12:13,750
os impulsos.

154
00:12:13,750 --> 00:12:19,030
Por isso a gente não está conseguindo enviar muito interessante aqui agora descobrir que é que aconteceu

155
00:12:19,030 --> 00:12:22,100
isso aqui aqui aqui a falha aqui.

156
00:12:22,630 --> 00:12:26,030
O visual studio Code fechou o formulário aqui pra minha.

157
00:12:26,480 --> 00:12:32,530
Então aqui a falha muito interessante que ocorreu aqui eu não quero cortar esses erros porque eu acho

158
00:12:32,530 --> 00:12:37,930
que isso acontece com todo mundo e se acontecer com você você vai ter que buscar essa aplicação pra

159
00:12:37,930 --> 00:12:41,790
conseguir encontrar uma beleza eu acho que agora foi corrigido.

160
00:12:41,830 --> 00:12:50,000
Agora sim a gente vai conseguir eu li sobre mim e eu vou mandar só um telefone aqui dá um enviar ele.

161
00:12:50,050 --> 00:12:56,480
Agora sim foi cadastrado e agora você vai editar esse aqui email e digitado e enviar.

162
00:12:56,530 --> 00:13:03,130
Ele foi editado beleza e daí é só mais um último confere aqui pra gente garantir que tudo até aqui que

163
00:13:03,130 --> 00:13:05,560
a gente criou está funcionando perfeitamente.

164
00:13:06,730 --> 00:13:11,010
Então olhando aqui meio editado beleza está funcionando.

165
00:13:11,110 --> 00:13:16,200
Tá aí esse pessoal vou deixar essa aula aqui sim a gente já fez a criação e edição do contato.

166
00:13:16,270 --> 00:13:22,300
Agora a gente vai precisar fazer o IBGE né no caso a leitura deles é bi eles aqui e depois a gente vai

167
00:13:22,300 --> 00:13:30,790
fazer também um link pra deletar o contato e daí a gente vai completar o nosso cliente rapidamente que

168
00:13:30,930 --> 00:13:37,330
não foi feito update da elite aqui no caso da ex vou deixar sala que a gente vê na praça mal.

169
00:13:37,330 --> 00:13:37,990
Grande abraço.
